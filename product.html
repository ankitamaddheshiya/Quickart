<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/02fd71c999.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="product.css">
    <title>Document</title>
</head>

<body>
   <div id="header">
        <div class="logo">
            <img src="Shopper.png" alt="">
            <h1>QUICKART</h1>


        </div>
        <div class="search_box">
            <input type="search" placeholder="Search Products here" id="input_search">
            <i class="fa-solid fa-magnifying-glass" id="search_btn"></i>
        </div>
        <div class="head_3"></div>
    </div>


    <a href="cart.html">cart button</a>

    <!-- product fetching -->
        
    <div id="midsection">
        <div id="midsection_part1">
            <h1>Filters</h1>
            <div id="productline">
                <h4>Category</h4>
                <label for="Men"><input type="checkbox" class="productline" value="Men" id="Men">Men</label>
                <label for="women"><input type="checkbox" class="productline" value="women" id="women">women</label>
                <label for="Electonics"><input type="checkbox" class="productline" value="Electonics"
                        id="Electonics">Electonic</label>
                <label for="Beauty"><input type="checkbox" class="productline" value="Beauty" id="Beauty">Beauty</label>
                <label for="Men-Shirts"><input type="checkbox" class="productline" value="Men-Shirts"
                        id="Men-Shirts">Men-Shirts</label>
                <label for="Woman-jeans"><input type="checkbox" class="productline" value="Woman-jeans"
                        id="Woman-jeans">Woman-jeans</label>
                <label for="home"><input type="checkbox" class="productline" value="home" id="home">home</label>


            </div>
            <div id="price">
                <h4>Price</h4>
                <label for="200"><input type="checkbox" class="price" value="1200" id="1200">less tha Rs. 1200</label>
                <label for="200"><input type="checkbox" class="price" value="200" id="200">less tha Rs. 500</label>
                <label for="500"><input type="checkbox" class="price" value="500" id="500">above the Rs. 500</label>

            </div>
            <div id="color">
                <h4>Color</h4>
                <label for="Black"><input type="checkbox" class="color" value="Black" id="Black">White</label>
                <label for="Silver"><input type="checkbox" class="color" value="Silver" id="Silver">Blue</label>
                <label for="Grey"><input type="checkbox" class="color" value="Grey" id="Grey">Grey</label>
                <label for="Green"><input type="checkbox" class="color" value="Green" id="Green">Green</label>
            </div>
            <div id="Othere">
                <h4>Offeres</h4>
                <label for="Black"><input type="checkbox" class="color" value="Black" id="Black">Buy more save
                    more</label>
                <label for="Silver"><input type="checkbox" class="color" value="Silver" id="Silver">No Cost EMI</label>
                <label for="Grey"><input type="checkbox" class="color" value="Grey" id="Grey">Special Offers</label>
                <label for="Green"><input type="checkbox" class="color" value="Green" id="Green">febric</label>
                <label for="Green"><input type="checkbox" class="color" value="Green" id="Green">Availibility</label>
            </div>
        </div>
       
        <div id="midsection_part2">
            <label for="">Sort by <select name="" id="sort">
                    <option value="">Select value</option>
                    <option value="Highest_Price">Highest Price</option>
                    <option value="Lowest_Price">Lowest Price</option>
                </select>
            </label>
            <p>Home>Clothing and >Accessories >Topwear >T-shirts <br>
                <span>FLYING MACHINE T-shirts,LEVIS T-shirts ,NAUTICA T-shirts ,Pepe Jeans T-shirts ,WROGN T-shirts
                    ,PUMA T-shirts ,United Colors of Benetton T-shirts ,ADIDAS T-shirts ,TOMMY HILFIGER T-shirts ,REEBOK
                    T-shirts</span>
            </p>
            </span>
            <p>T Shirts(Showing 1 â€“ 40 products of 17,657 products)</p>
            <div id="container">
                <!--append all product here  -->
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="toppart">
            <div class="top-child">
                <h5>ABOUT</h5>
                <P><a href="">About Us</a> </P>
                <P><a href="">Carrers</a></P>
                <P><a href="">Flipcart Storys</a></P>
                <P><a href="">Press</a></P>
                <P><a href="">Flipcart Wholesale</a></P>
            </div>
            <div class="top-child">
                <h5>HELP</h5>
                <P><a href="">Payment</a> </P>
                <P><a href="">Shipping</a></P>
                <P><a href="">Return Policy</a></P>
                <P><a href="">FAQ</a></P>
                <P><a href="">Report</a></P>
            </div>
            <div class="top-child" >
                <h5>POLICY</h5>
                <P><a href="">Return Policy</a> </P>
                <P><a href="">Term Of Use</a></P>
                <P><a href="">Security</a></P>
                <P><a href="">Privecy</a></P>
                <P><a href="">Sitemap</a></P>
            </div>
            <div class="top-child">
                <h5>SOCIAL</h5>
                <P><a href="">Face Book</a> </P>
                <P><a href="">Twitter</a></P>
                <P><a href="">YouTube</a></P>
            </div>
            <div class="top-child" id="haveborder">
                <h5>Mail Us</h5>
                <p >
                    Flipkart Internet Private Limited,Buildings Alyssa,Begonia &Clove Embassy Tech Village,
    Outer Ring Road, Devarabeesanahalli Village,Bengaluru, 560103,Karnataka, India
                </p>
            </div>
            <div class="top-child">
                <h5>Registered Office Address:</h5>
                <p >
                    Flipkart Internet Private Limited,Buildings Alyssa, Begonia &Clove Embassy Tech Village,Outer Ring Road, Devarabeesanahalli Village,Bengaluru, 560103,Karnataka, IndiaCIN : U51109KA2012PTC066107
    Telephone: 044-45614700
                </p>
            </div>
        </div>
        <div></div>
       </div>
      
</body>

</html>
<script>


    let url = "https://63c7708d075b3f3a91cc9ada.mockapi.io/fashion"
    let sort = document.getElementById("sort");
    sort.addEventListener("change", sortbyprice);


    let cartItems = JSON.parse(localStorage.getItem("cartProducts")) || []

    let search = document.getElementById("search_btn");
    search.addEventListener("click", searchbytitle);

    let storeData = [];
    fetch(url)
        .then(res => res.json())
        .then((data) => {
            renderCart(data);
            storeData = data;
        });


    function renderCart(data) {
        document.querySelector("#container").innerHTML = "";
        data.forEach((element,i) => {

            let div = document.createElement("div")

            let image1 = document.createElement("img")
            image1.setAttribute("src", element.avatar)

            let title = document.createElement("h3")
            title.innerText = element.title
            title.style = "color:grey"

            let category = document.createElement("p")
            category.innerText = element.category;

            let description = document.createElement("p")
            description.innerText = element.description.substring(0, 75);
            description.style = "color:orange"

            let price = document.createElement("p")
            price.innerText = "Rs." + element.price;
            price.style = "color:green"

            let Btn = document.createElement("button");
            Btn.textContent = "Add to Cart";

            Btn.addEventListener("click", () => {
                let cart = JSON.parse(localStorage.getItem("cartProducts")) || [];

                let temp = [];
                temp.push(element);
                temp.push(1);
                cart.push(temp);

                localStorage.setItem("cartProducts", JSON.stringify(cart));
                alert("Product added to cart");

            })

            // Btn.addEventListener("click",function(){
            // cartItems.push(element)

            // localStorage.setItem("cartProducts",JSON.stringify(cartItems))
            // })


            div.append(image1, title, category, description, price,Btn)
            document.querySelector("#container").append(div);

        });

    }
    // -------------functionalities for filter starts here ----------------
    // -----------------------Functionality for category filter --------------------

    let productline = document.querySelectorAll(".productline");
    for (let itm of productline) {
        itm.addEventListener("change", productlinefilter);
    }

    function productlinefilter(e) {
        let select = e.target.value;
        if (e.target.checked) {
            let newArr = storeData.filter(function (element) {
                if (select == "Men") {
                    return element.category === select;
                }
                else if (select == "women") {
                    return element.category === select;
                }
                else if (select == "Electonics") {
                    return element.category === select;
                }
                else if (select == "Beauty") {
                    return element.category === select;
                    //  element.avatar.style.setAttribute("width", "100px");

                }
                else if (select == "Men-Shirts") {
                    return element.category === select;
                }
                else {
                    return element.category === select;
                }
            })
            console.log(newArr)
            renderCart(newArr);
        } else {
            renderCart(storeData);
        }
    }


    //  ---------------------functionality for short bar -------------------------

    function sortbyprice() {
        let select = sort.value;
        if (select === "") {
            renderCart(storeData);
        } else {
            if (select === "Highest_Price") {
                storeData = storeData.sort(function (a, b) {
                    return b.price - a.price;
                });
            }
            else if (select === "Lowest_Price") {
                storeData = storeData.sort(function (a, b) {
                    return a.price - b.price;
                });
            }
            console.log(storeData)
            renderCart(storeData);
        }
    }


    function searchbytitle() {
        console.log("yes");
        let input = document.querySelector("#input_search").value;
        let searchinput = storeData.filter((element) => {
            return element.title.toLowerCase().includes(input.toLowerCase())
        });
        renderCart(searchinput);


    }
    //  functionality by price

    let price = document.querySelectorAll(".price");
    for (let itm of price) {
        itm.addEventListener("change", priceFilter);
    }

    function priceFilter(e) {
        let select = e.target.value;
        if (e.target.checked) {
            let newArr = storeData.filter(function (element) {
                if (select == "1200") {
                    return element.price > 1200 && element.price <= 1500;
                }
                else if (select == "200") {
                    return element.price > 200 && element.price <= 500;
                }
                else if (select == "500") {
                    return element.price > 500 && element.price <= 1000;
                } else {
                    return element.price > 1500;
                }
            })
            renderCart(newArr);
        } else {
            renderCart(storeData);
        }
    }

</script>